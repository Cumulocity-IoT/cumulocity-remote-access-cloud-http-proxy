<div class="viewport-modal">
  <div class="modal-header dialog-header">
    <i c8yIcon="wrench"></i>
    <h4 id="modal-title">{{ "Cloud HTTP proxy paths" | translate }}</h4>
  </div>
  <div class="modal-inner-scroll">
    <div id="modal-body" class="bg-component">
      <div class="p-4">
        <p>
          This section allows you to define specific pathes per configuration
          that you can directly navigate to. Instead of navigating to the root
          path ("/") on the web server, you can provide a specific path here or
          even multiple ones.
        </p>
        <div>
          <fieldset class="c8y-fieldset" *ngIf="configs.length">
            <legend translate>Configured paths</legend>
            <div *ngFor="let item of configs" class="d-flex j-c-center">
              <c8y-form-group>
                <label for="headerValue">{{ item.label }}</label>
                <div class="input-group">
                  <input
                    class="form-control"
                    id="headerValue"
                    [ngModel]="item.path"
                    type="text"
                    disabled=""
                  />
                  <div class="input-group-btn">
                    <button
                      class="btn-dot btn-dot--danger"
                      (click)="removePath(item.path)"
                      [attr.aria-label]="'Remove'"
                    >
                      <i c8yIcon="minus-circle"></i>
                    </button>
                  </div>
                </div>
              </c8y-form-group>
            </div>
          </fieldset>
        </div>

        <div>
          <fieldset class="c8y-fieldset">
            <legend translate>New path</legend>
            <div class="d-flex a-i-center j-c-around">
              <c8y-form-group>
                <label for="headerKey" translate>Label</label>
                <input
                  class="form-control"
                  id="headerKey"
                  [(ngModel)]="newValue.label"
                  type="text"
                  placeholder="e.g. Dashboard"
                />
              </c8y-form-group>

              <c8y-form-group>
                <label for="headerValue" translate>Path</label>
                <input
                  class="form-control"
                  id="headerValue"
                  [(ngModel)]="newValue.path"
                  type="text"
                  placeholder="e.g. /dashboard/"
                />
              </c8y-form-group>
            </div>
            <div class="d-flex a-i-center j-c-around">
              <button
                type="button"
                class="btn btn-default m-b-8"
                (click)="addPath()"
                [disabled]="!newValue.label || !newValue.path"
              >
                <i c8yIcon="plus"></i>
                Add Path
              </button>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button
      class="btn btn-primary"
      type="button"
      title="{{ 'Save' | translate }}"
      (click)="save()"
    >
      {{ "Save" | translate }}
    </button>
    <button
      class="btn btn-default"
      type="button"
      title="{{ 'Cancel' | translate }}"
      (click)="cancel()"
    >
      {{ "Cancel" | translate }}
    </button>
  </div>
</div>
